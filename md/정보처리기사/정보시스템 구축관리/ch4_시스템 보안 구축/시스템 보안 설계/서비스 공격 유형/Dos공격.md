# Dos(Denial of Service) 공격

---

<strong style="background: #FFD5D2; padding: 5px;">1. DoS 공격 개념</strong>
- 시스템을 악의적으로 공격해 해당 시스템의 자원ㅇ르 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
- 특정 서버에게 수많은 접속 시도를 만들어 다른 이용자가 정상적으로 서비스 이용을 하지 못하게 함
- 서버의 TCP 연결을 소진시키는 등의 공격

<strong style="background: #FFD5D2; padding: 5px;">2. DoS 공격의 종류</strong>

- **SYN 플러딩(SYN;씬 Flooding)**
  - TCP 프로토콜의 구조적인 문제를 이용한 공격
  - 서버의 동시 사용 사용자 수를 SYN 패킷만 보내 점유하여 다른 사용자가 서버를 사용 불가능하게 하는 공격
  - 공격자는 ACK를 발송하지 않고 계속 새로운 연결 요청을 하게 되어 서버는 자원할당을 해지하지 않고 소비만 하여 자원 고갈
  - 존재하지 않는 클라이언트가 서버별로 한정된 접속 가능 공간에 접속한 것처럼 속여 다른 사용자가 서비스를 이용하지 못하게 함
  - 대응방안
    - TCP 연결 타임아웃을 짧게 가져가서 연결 요청 대기 시간을 줄임
    - Backing Queue를 늘림
    - Syncookie 기능 활성화
    - Anti-DDoS, 방화벽, 침입 차단시스템 등 보안 장비를 통해 침입 탐지 및 차단 수행
    - 최신 시스템 및 애플리케이션 패치 및 업데이트 수행
- **UDP 플러딩(UDP 플러딩)**
  - 대량의 UDP 패킷을 만들어 임의의 포트 번호로 전송
  - 응답 메시지(ICMP Destination Unreachable; ICMP 목적지 도달 불가)를 생성하게 하여 지속해서 자원을 고갈시키는 공격
  - ICMP 패킷은 변조되어 공격자에게 전달되지 않아 대기
- **스머프(Smurf) / 스머핑(Smurfing)**
  - 출발지 주소를 공격 대상의 IP로 설정하여 네트워크 전체에게 ICMP Echo 패킷을 직접 브로드캐스팅하여 마비시키는 공격
  - 바운스(Bounce) 사이트 라고 불리는 제3의 사이트를 이용해 공격
  > - **직접 브로드캐스팅(Direct Broadcast)**
  >   - IP 주소의 호스트 ID 비트를 모두 1로 설정하여 Broadcast 하는 방식
- **죽음의 핑(PoD; Ping of Death)**
  - ICMP 패킷(Ping)을 정상적인 크기보다 아주 크게 만들어 전송
  - 다수의 IP단편화가 발생
  - 수신 측에서는 단편화된 패킷을 처리(재조합)하는 과정에서 많은 부하가 발생하거나, 재조합 버퍼의 오버플로우가 발생하여 정상적인 서비스를 하지 못하도록 하는 공격 기법
  - 대응 방안
    - 보통 ICMP 패킷은 분할하지 않으므로 패킷 중 분할이 일어난 패킷을 공격으로 의심하여 탐시하도록 설정
    - 현재 시스템 대부분은 반복적으로 들어오는 일정 수 이상의 ICMP 패킷을 무시하도록 설정되어 있지만, 취약점을 가지고 있다면 패치 필요
- **랜드 어택(Land Attack)**
  - 출발지(Source) IP와 목적지(Destination) IP를 같은 패킷 주소로 만들어 보냄
  - 수신자가 자기 자신에게 응답을 보내게 하여 시스템의 가용성을 침해하는 공격 기법
  - 대응 방안
    - 수신되는 패킷 중 출발지 주소와 목적지 주소가 동일한 패킷들을 차단
- **티어 드롭(Tear Drop)**
  - IP 패킷의 재조합 과정에서 잘못된 Fragment Offset 정보로 인해 수신시스템이 문제를 발생하도록 만드는 DoS 공격
  - 공격자는 IP Fragment Offset 값을 서로 중첩되도록 조작하여 전송
  - 이를 수신한 시스템이 재조합하는 과정에서 오류가 발생, 시스템의 기능을 마비시키는 공격방식
  - IP 헤더가 조작된 일련의 IP 패킷 조각(IP Fragment)들을 전송
  - 대응 방안
    - 과부하가 걸리거나 반복되는 패킷 재전송 요구 하지 않고 버림
- **봉크(Bonk) / 보잉크(Boink)**
  - 프로토콜의 오류제어를 이용한 공격기법
  - 시스템의 패킷 재전송과 재조립이 과부하를 유발
  - 봉크 : 같은 시퀀스 번호를 계속 보냄
  - 보잉크 : 일정한 간격으로 시퀀스 번호에 빈 공간 생성
  - 대응 방안
    - 과부하가 걸리거나 반복되는 패킷 재전송 요구 하지 않고 버림
- **핑 플러드(Ping Flood)**
  - 특정 사이트에 매우 많은 ICMP Echo를 보내면, 이에 대한 응답을 하기 위해 시스템 자원을 모두 사용
  - 시스템이 정상적으로 동작하지 못하도록 하는 공격 방법