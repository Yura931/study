# 암호 알고리즘(Encryption Algorithm)

---

### 암호 알고리즘 개념

<strong style="background: #FFD5D2; padding: 5px;">1. 암호 알고리즘 개념</strong>

- 데이터의 무결성 및 기밀성 확보를 위해 정보를 쉽게 해독할 수 없는 형태로 변환하는 기법

<strong style="background: #FFD5D2; padding: 5px;">2. 암호 알고리즘 관련 주요 용어</strong>

- **평문(Plain / Plaintext)** : 암호화되기 전의 원본 메시지
- **암호문(Cipher / Ciphertext)** : 암호화가 적용된 메시지
- **암호화(=Encrypt / Encryption / Encoding)** : 평문을 암호문으로 바꾸는 작업
- **복호화(=Decrypt / Decryption / Decoding)** : 암호문을 평문으로 바꾸는 작업
- **키(Key)** : 적절한 암호화를 위하여 사용하는 값
- **치환 암호(대치 암호, Substitution Cipher)** : 비트, 문자 또는 문자의 블록을 다른 비트, 문자 또는 블록으로 대체하는 방법
- **전치 암호(Transposition Cipher)** : 비트, 문자 또는 블록이 원래 의미를 감추도록 자리바꿈 등을 이용하여 재배열하는 방법

> - 스트림(Stream) 암호
>   - 평문과 같은 길이의 키 스트림을 연속적으로 생성하여 평문과 이진 수열을 비트 단위로 XOR 연산하여 암호문을 생성하는 대칭키 암호화 기법
> - 블록(Block) 암호
>   - 평문을 일정한 블록 단위로 나누어서 각 블록마다 암호화 과정을 수행하여 고정된 크기의 블록 단위 암호문을 생성하는 대칭키 암호화 기법


### 암호 알고리즘 방식

<strong style="background: #FFD5D2; padding: 5px;">1. 양방향 방식</strong>
> 양방향 알고리즘은 암호화된 암호문을 복호화 할 수 있음

***대칭 키 암호 방식***
- 암호화와 복호화에 같은 암호 키를 쓰는 알고리즘
- 비밀키 전달을 위한 키 교환이 필요하고, 암호화 및 복호화의 속도가 빠름


- **블록 암호 방식**
  - 긴 평문을 암호화하기 위해 고정 길이의 블록을 암호화하는 블록 암호 알고리즘을 반복하는 방법
  - DES, AES, SEED
- **스트림 암호 방식**
  - 매우 긴 주기의 난수열을 발생시켜 평문과 더불어 암호문을 생성하는 방식 
  - 비트/바이트/단어들을 순차적으로 암호화
  - RC4

***비대칭 키 암호 방식(= 공개키 암호방식)***
- 사전에 비밀키(Secret Key)를 나눠 가지지 않은 사용자들이 안전하게 통신하는 방식
- 공개 키(Public Key)와 개인 키(Private Key)가 존재
- 공개 키는 누구나 알 수 있지만, 그에 대응하는 개인 키는 키의 소유자만 알 수 있어야 함
- 공개 키는 보안 타협 없이 공개적으로 배포가 가능
- 공개 키로 암호화된 메시지는 반드시 개인 키로 복호화 해야 함
- 비대칭 키 암호 방식 RSA, ECC, Elgamal, 디파-헬만 등이 있음
- 자신만이 보관하는 비밀키를 이용하여 인증, 전자 서명 등에 적용 가능

***대칭 키 암호 방식 및 비대칭 키 암호 방식 비교***

- **대칭 키 암호 방식**
  - 키 : 대칭 키(비밀 키)
  - 키의 관계 : 암호화 키 = 복호화 키
  - 키 개수 : n(n-1) / 2
  - 암호 알고리즘 : 공개
  - 장점 : 계산 속도가 빠름
  - 단점 : 키 분배 및 관리의 어려움, 기밀성만 보장
  - 알고리즘 : DES, AES, SEED

- **비대칭 키 암호 방식**
  - 키 : 비대칭 키(공개 키, 사설 키)
  - 키의 관계 : 암호화 키 != 복호화 키
  - 키 개수 : 2n
  - 암호 알고리즘 : 공개
  - 장점 : 암호화 키 사전 공유 불필요, 관리해야 할 키 개수가 적음
  - 단점 : 계산 속도 느림
  - 알고리즘 : 디파-헬만, RSA

<strong style="background: #FFD5D2; padding: 5px;">2. 일방향 암호 방식(해시 암호 방식)</strong>
- 임의 길이의 정보를 입력받아, 고정된 길이의 암호문(해시값)을 출력하는 암호 방식
- 해시 암호화 알고리즘이 적용된 정보는 복호화가 불가능

***일방향 암호 종류***

- **MAC(Message Authentication Code; 메시지 인증 코드)**
  - 메시지의 무결성과 송신자의 인증을 보장하는 코드
  - HMAC, NMAC
- **MIDC(Modification Detection Code; 변경 감지 코드)**
  - 메시지의 무결성을 보장하는 코드
  - MD5, SHA

- 해시 함수의 경우 레인보우 테이블 공격에 취약할 수 있음
- 취약점을 극복하기 위해 솔트 키를 추가하는 방법과 키 스트레칭 방법이 사용

***해시 함수 취약점 대응방법***

- **솔트(Salt)**
  - 시스템에 저장되는 패스워드들은 Hash 또는 암호화 알고리즘의 결괏값으로 저장
  - 솔트 키는 암호공격을 막기 위해 똑같은 패스워드들이 다른 암호 값으로 저장되도록 추가되는 임의의 문자열
- **키 스트레칭(Key Stretching)**
  - 해시값을 알아보지 못하도록 하기 위해 원문의 해시값을 입력값으로, 다시 그 해시값을 입력값으로 n번 반복해서 적용


### 암호 알고리즘 상세

<strong style="background: #FFD5D2; padding: 5px;">1. 대칭 키 암호화 알고리즘</strong>

- **DES(Data Encryption Standard)**
  - 1975년 미국의 연방 표준국(NIST)에서 발표한 대칭 키 기반의 블록 암호화 알고리즘
  - 블록 크기는 64bit, 키 길이는 56bit인 페이스텔(Feistel)구조
  - DES를 3번 적용하여 보안을 더욱 강화한 3DES(Triple DES)도 활용 됨
- **SEED**
  - 1999년 국내 한국인터넷진흥원(KISA)이 개발한 블록 암호화 알고리즘
  - 128비트 비밀키로부터 생성된 16개의 64비트 라운드 키를 사용하여 총 16의 라운드를 거쳐 128비트의 평문 블록을 128비트 암호문 블록으로 암호화
  - 블록 크기는 128비트이며, 키 길이에 따라 128비트, 256비트로 분류
- **AES(Advanced Encryption Standard)**
  - 2001년 미국 표준 기술 연구소(NIST)에서 발표한 대칭 키 기반의 블록 암호화 알고리즘
  - DES의 개인 키에 대한 전사적 공격이 가능해지고, 3 DES의 성능문제를 극복하기 위해 개발
  - 블록 크기는 128비트이며, 키 길이에 따라 128비트, 192비트, 256비트로 분류
  - AES의 라운드 수는  10, 12, 14라운드로 분류
  - 한 라운드는 SubBytes, ShiftRows, MixColumns, AddRoundKey의 4가지 계층으로 구성
- **ARIA(Academy, Research Institute, Agency)**
  - 2004년 국가정보원과 산학연구협회가 개발한 블록 암호화 알고리즘
  - ARIA는 학계(Academy), 연구기관(Research Institute), 정부(Agency)의 영문 앞글자로 구성
  - 블록 크기는 128비트이며, 키 길이에 따라 128비트, 192비트, 256비트로 분류
  - ARIA는 경량 환경 및 하드웨어에서의 효율성 향상을 위해 개발되었으며,
  - ARIA가 사용하는 대부분의 연산은 XOR과 같은 단순한 바이트 단위 연산으로 구성
- **IDEA(International Data Encryption Algorithm)**
  - DES를 대체하기 위해 스위스 연방기술 기관에서 개발한 블록 암호화 알고리즘
  - 128비트의 키를 사용하여 64비트의 평문을 8라운드에 거쳐 64비트의 암호문을 만듦
- **LFSR(Linear Feedback Shift Register)**
  - 선형 되먹임 시프트 레지스터는 시프트 레지스터의 일종
  - 레지스터에 입력되는 값이 이전 상태 값들의 선형 함수로 계산되는 구조로 되어 있는 스트림 알고리즘

<strong style="background: #FFD5D2; padding: 5px;">2. 비대칭 키 암호화 알고리즘</strong>

- **디피-헬만(Diffie-Hellman)**
  - 최초의 공개키 알고리즘
  - W.Diffie와 M.Hellman이 1976년에 고안한 알고맂므으로서 유한 필드 내에서 이산대수의 계산이 어려운 문제를 기본 원리로 하고 있음
  - Diffie-Hellman은 공개키 암호 방식의 개념을 이용하여 두 사용자 간에 공통의 암호화 키를 안전하게 공유할 방법을 제시
  - 많은 키 분배 방식에 관한 연구의 기본이 됨(최초의 비밀 키 교환 프로토콜)
- **RSA(Rivest- Shamir- Adleman)**
  - 1977년 3명의 MIT 수학 교수(Rivest, Shamir, Adleman)가 고안한 큰 인수의 곱을 소인수 분해하는 수학적 알고리즘을 이용하는 공개키 암호화 알고리즘
  - 빋칭 암호화 방식으로 소수를 활용한 암호화 알고리즘
- **ECC(Elliptic Curve Cryptography)**
  - 유한체 위에서 정의된 타원곡선 군에서 이산대수 문제에 기초한 공개키 암호화 알고리즘
  - 1985년 코블리치와 밀러가 RSA 암호 방식에 대한 대안으로 처음 제안
  - PKI 기반의 RSA의 문제점인 속도와 안전성 해결하기 위해 타원기반 구조체의 안정성과 효율성을 기반으로 생성
  - RSA보다 키의 비트 수를 적게 하면서 동일한 성능을 제공하는 것이 가장 큰 특징
- **EIGamal**
  - T.EIGamal이 1984년에 제안한 공개키 알고리즘
  - 이산대수의 계산이 어려운 문제를 기본 원리로 하고 있으며, RSA와 유사하게 전자서명과 데이터 암 복호화에 함께 사용 가능
- **DSA(Digital Signature Algorithm)**
  - 1991년 8월에 NIST(National Institution of Standard and Technology)가 미국 전자서명 표준(DSS; Digital Signature Standard)에서 사용하기 위해 발표한 정부용 전자서명 알고리즘
  - 안전성은 이산대수 문제의 어려움에 기반

<strong style="background: #FFD5D2; padding: 5px;">3. 해시(Hash) 암호화 알고리즘</strong>

- **MD5(Message-Digest algorithm 5)**
  - 1991년 R.rivest가 MD4를 개선한 암호화 알고리즘으로 프로그램이나 파일의 무결성 검사에 사용하는 해시 알고리즘
  - 각각의 512비트짜리 입력 메시지 블록에 대해 차례로 동작하여 128비트의 해시값을 생성하는 알고리즘
- **SHA-1(Secure Hash Algorithm)**
  - 1993년 NSA에서 미 정부 표준으로 지정
  - DSA(Digital Signature Algorithm)에서 사용하는 해시 알고리즘
  - 160비트의 해시값을 생성하는 해시 알고리즘
- **SHA-256/384/512(Secure Hash Algorithm)**
  - SHA 알고리즘의 한 종류로서 256비트의 해시값을 생성하는 해시 함수
  - AES(Advanced Encryption Standard, 미연방 표준 알고리즘)의 키 길이인 128, 192, 256비트에 대응하도록 출력 길이를 늘인 해시 알고리즘
- **HAS-160**
  - 국내 표준 서명 알고리즘 KCDSA(Korean Certificate-based Digital Signature Algorithm)를 위하여 개발된 해시 함수
  - MD5와 SHA1의 장점을 취하여 개발된 해시 알고리즘
- **HAVAL**
  - 메시지를 1024bit 블록으로 나누고 128, 160, 192, 224, 256비트인 메시지 다이제스트를 출력하는 해시 알고리즘




> - 알고리즘 방식은 양방향, 일방향 방식이 있음
> 
> 
> - 양방향 방식은 암호화 된 암호문을 복호화 할 수 있음 
> - 양방향 방식에는 대칭 키 암호 방식과 비대칭 키 암호 방식이 있음
> - 대칭 키 암호 방식은 암호화, 복호화에 같은 키를 사용하는 것이고 비대칭 키는 암호화, 복호화에 다른 키를 사용하는 것으로 공개키 암호 방식  이라고도 함
> - 대칭 키 암호 방식에는 블록 암호 방식과 스트림 암호 방식이 있음
> - 블록 암호 방식은 긴 평문을 암호화하기 위해 고정 길이의 블록을 암호화하는 것을 반복하는 알고리즘이고
> - 스트림 암호 방식은 매우 긴 주기의 난수를 발생시켜 평문과 더불어 암호문을 생성하는 방식임 
> - 블록 암호 방식 알고리즘에는 DES, AES, SEED, ARIA, IDEA가 있고
> - 스트림 암호 방식 알고리즘 에는 RS4, LFSR이 있음
> - 비대칭 키 암호 방식 알고리즘 에는 디피-헬만, RSA, ECC, EIGamal, DISA가 있음
> 
> 
> - 일방향 방식은 암호화 된 암호문을 복호화 할 수 없음
> - 일방향 암호 방식에는 해시 암호 방식이 있음
> - 임의 길이의 정보를 입력 받아 고정된 길이의 암호문을 출력하는 형식이고
> - 이 해시 암호화 알고리즘이 적용된 정보는 복호화가 불가능 함
> - 일방향 암호 종류에는 MAC과 MIDC가 있음
> - MAC은 메시지 인증 코드로 메시지의 무결성과 송신자의 인증을 보장하는 코드고 HMAC과 NMAC이 있음
> - MIDC는 변경 감지 코드로 메시지의 무결성을 보장하는 코드고 MD5, SHA가 있음
> - 해시 함수 취약점 대응방법에는 솔트와 키 스트레칭이 있음
> - 솔트는 패스워드들이 다른 암호 값으로 저장되도록 추가되는 임의의 문자열이고
> - 키 스트레칭은 해시값을 알아보지 못하도록 하기 위해 원문의 해시값을 입력값을, 다시 그 해시값을 입력값으로 n번 반복해서 적용하는 것임
> - 이 해시 암호화 알고리즘에는 MD5, SHA-1, SHA-256/384/512, HAS-160, HAVAL이 있음











    