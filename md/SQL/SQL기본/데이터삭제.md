# 데이터 삭제

---

- 모든 작업들은 트랜잭션 로그를 남길 수 있다.
- LOG DB에 쌓아두다 어느정도 차게 되면 실제 DB에 동기화 작업을 한다.
- DROP, TRUNCATE, DELETE 모두 삭제 작업을 하지만 이 중 DELETE만 로그를 남길 수 있다.


### DROP
- DDL
- 로그 남기지 않음
- ROLLBACK 불가능
- AUTO COMMIT
- 테이블이 사용했던 Storage를 모두 Release
- 용량 모두 반환
- 테이블의 데이터도 모두 삭제하고 디스크 사용량도 초기화
- 테이블의 정의 자체를 완전히 삭제함
- `테이블 구조를 완전히 삭제`

### TRUNCATE
- DDL(일부 DML 성격을 가짐)
- 로그 남기지 않음
- ROLLBACK 불가능
- AUTO COMMIT
- 테이블이 사용했던 Storage 중 최초 테이블 생성시 할당된 Storage만 남기고 Release
- 테이블 최초 생성 시 용량만 남기고, 모두 반환함
- 디스크 사용량 초기화
- 테이블을 최초 생성된 초기상태로 만듦
- 테이블 자체가 삭제되는 것이 아니고, 해당 테이블에 들어있던 모든 행들이 제거되고 저장 공간을 재사용 가능하도록 해제한다.
- UNDO를 위한 데이터를 생성하지 않기 때문에 동일 데이터량 삭제시 DELETE보다 빠르다.

### DELETE
- DML
- 로그 남김
- COMMIT 이전 ROLLBACK 가능
- 사용자 COMMIT
- 용량 반환 하지 않음
- 디스크 사용량 초기화 하지 않음
- 데이터만 삭제

### UNDO
- 데이터베이스에서 트랜잭션의 롤백을 수행할 때 사용되는 기술
- TRUNCATE는 UNDO정보를 생성하지 않기 때문에 롤백이나 트랜잭션 복구 시에 이전 상태로 롤백할 수 있는 방법이 없다. 